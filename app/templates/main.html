{% extends "base.html" %}
{% block content %}
<style>
.news-list {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 32px;
  margin-top: 26px;
}
.news-card {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 2px 10px rgba(19,37,78,0.07);
  overflow: hidden;
  transition: box-shadow 0.18s;
}
.news-card a {
  color: inherit;
  text-decoration: none;
  display: block;
}
.news-thumb img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  display: block;
  background: #e7eaf3;
}
.news-info {
  padding: 16px 14px 18px 14px;
}
.news-date {
  font-size: 14px;
  color: #2371c4;
  margin-bottom: 7px;
}
.news-title {
  font-size: 17px;
  font-weight: 600;
  color: #182755;
}
</style>

<h2>–ù–æ–≤–æ—Å—Ç–∏</h2>
<div class="subtitle">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</div>

<div class="news-list">
{% if news %}
{% for item in news %}
<div class="news-card">
<a href="{{ item.link }}" target="_blank">
<div class="news-thumb"><img src="{{ item.image }}" alt="{{ item.title }}"></div>
<div class="news-info">
<div class="news-date">{{ item.date }}</div>
<div class="news-title">{{ item.title }}</div>
</div>
</a>
</div>
{% endfor %}
{% else %}
<div style="color:#b3bac5;margin-top:22px;">–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.</div>
{% endif %}
</div>

<h2>–ñ–∞–ª–æ–±—ã</h2>
<div class="subtitle">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</div>
<div class="card-list">
{% if last_complaints %}
{% for complaint in last_complaints %}
<div class="complaint-card">
<div class="complaint-header">
<div class="complaint-author">{{ complaint.name_surname or "–ê–Ω–æ–Ω–∏–º" }}</div>
<div class="complaint-date-tag">{{ complaint.created_at.strftime("%d.%m.%Y") }}</div>
<div class="complaint-reaction-buttons">
<button class="complaint-reaction-btn complaint-like-btn">üëç 5</button>
<button class="complaint-reaction-btn complaint-dislike-btn">üëé 0</button>
</div>
</div>
<div class="complaint-card-content">
<div class="complaint-content-header">
<div class="complaint-content-title">{{ complaint.subject }}</div>
<div class="complaint-content-reactions">
<div class="complaint-content-reaction">üí¨ 0</div>
</div>
</div>
<div class="complaint-content-text">{{ complaint.message }}</div>
</div>
</div>
{% endfor %}
{% else %}
<div class="no-complaints-msg">–ü–æ–∫–∞ –∂–∞–ª–æ–± –Ω–µ—Ç.</div>
{% endif %}
</div>
<h2>–ò–¥–µ–∏</h2>
<div class="subtitle">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</div>
<div class="card-list">
{% if last_ideas %}
{% for idea in last_ideas %}
<div class="complaint-card">
<div class="complaint-header">
<div class="complaint-author">{{ idea.name_surname or "–ê–Ω–æ–Ω–∏–º" }}</div>
<div class="complaint-date-tag">{{ idea.created_at.strftime("%d.%m.%Y") }}</div>
<div class="complaint-reaction-buttons">
<button class="complaint-reaction-btn complaint-like-btn">üëç 5</button>
<button class="complaint-reaction-btn complaint-dislike-btn">üëé 0</button>
</div>
</div>
<div class="complaint-card-content">
<div class="complaint-content-header">
<div class="complaint-content-title">{{ idea.subject }}</div>
<div class="complaint-content-reactions">
<div class="complaint-content-reaction">üí¨ 0</div>
</div>
</div>
<div class="complaint-content-text">{{ idea.message }}</div>
</div>
</div>
{% endfor %}
{% else %}
<div class="no-complaints-msg">–ü–æ–∫–∞ –∏–¥–µ–∏ –Ω–µ—Ç.</div>
{% endif %}
</div>
{% endblock %}
